(this.webpackJsonpreact511=this.webpackJsonpreact511||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(29),s=a.n(i),o=(a(39),a(40),a(30)),c=a(13),l=a(33),u=a(6),m=a(7),d=a(10),p=a(8),h=a(2),v=a(9),y=a(3),b=a.n(y),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={buss:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=SF&stopCode=16750").then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"render",value:function(){var e,t=this;if(this.state.buss){var a=0;e=this.state.buss.map((function(e){if("45"===e.MonitoredVehicleJourney.LineRef)return r.a.createElement("div",{className:"bus",key:a++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"buss"},"Union",e)}}]),t}(r.a.Component),E=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={buss:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=SF&stopCode=16513").then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"render",value:function(){var e,t=this;if(this.state.buss){var a=0;e=this.state.buss.map((function(e){if("30"===e.MonitoredVehicleJourney.LineRef||"45"===e.MonitoredVehicleJourney.LineRef||"91"===e.MonitoredVehicleJourney.LineRef)return r.a.createElement("div",{className:"bus",key:a++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"buss"},"Stockton",e)}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={buss:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=GG&stopCode=42006").then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"render",value:function(){var e,t=this;if(this.state.buss){var a=0;e=this.state.buss.map((function(e){if("4"===e.MonitoredVehicleJourney.LineRef)return r.a.createElement("div",{className:"bus",key:a++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"buss"},"Sansome",e)}}]),t}(r.a.Component),S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={buss:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=GG&stopCode=40032").then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"render",value:function(){var e,t=this;if(this.state.buss){var a=0;e=this.state.buss.map((function(e){return r.a.createElement("div",{className:"bus",key:a++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"buss"},"Van Ness",e)}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={buss:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=SF&stopCode=13082").then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"render",value:function(){var e,t=this;if(this.state.buss){var a=0;e=this.state.buss.map((function(e){return r.a.createElement("div",{className:"bus",key:a++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},t.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"buss"},"BroadWay",e)}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={stopCode:"16513",agency:"SF",buss:[],agencies:[]},a.dateParser=a.dateParser.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=".concat(this.state.agency,"&stopCode=").concat(this.state.stopCode)).then((function(t){var a=t.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;e.setState({buss:a})})),b.a.get("https://api.511.org/transit/operators?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON").then((function(t){console.log(t.data);var a=t.data;e.setState({agencies:a})}))}},{key:"handleSubmit",value:function(e){var t=this;b.a.get("http://api.511.org/transit/StopMonitoring?api_key=72939361-85f9-4019-aa55-d62e4e7e2e59&Format=JSON&agency=".concat(this.state.agency,"&stopCode=").concat(this.state.stopCode)).then((function(e){var a=e.data.ServiceDelivery.StopMonitoringDelivery.MonitoredStopVisit;t.setState({buss:a})}))}},{key:"dateParser",value:function(e){return new Date(Date.parse(e)).toLocaleTimeString()}},{key:"updateStopCode",value:function(){var e=this;return function(t){return e.setState({stopCode:t.currentTarget.value})}}},{key:"updateAgency",value:function(){var e=this;return function(t){return e.setState({agency:t.currentTarget.value})}}},{key:"render",value:function(){var e,t,a,n=this;if(this.state.agencies&&(a=this.state.agencies.map((function(e){return r.a.createElement("option",{value:e.Id},e.ShortName?e.ShortName:e.Name," ",e.ShortName&&e.ShortName!==e.Name?"(".concat(e.Name,")"):"")}))),this.state.buss){var i=0;e=this.state.buss.map((function(e){return t=e.MonitoredVehicleJourney.MonitoredCall.StopPointName,r.a.createElement("div",{className:"bus",key:i++},r.a.createElement("span",{className:"line"},e.MonitoredVehicleJourney.LineRef)," => ",e.MonitoredVehicleJourney.DestinationName,r.a.createElement("br",null),r.a.createElement("span",{className:"aimed"},n.dateParser(e.MonitoredVehicleJourney.MonitoredCall.AimedArrivalTime))," => ",r.a.createElement("span",{className:"expected"},n.dateParser(e.MonitoredVehicleJourney.MonitoredCall.ExpectedArrivalTime)))}))}return r.a.createElement("div",{className:"stop"},r.a.createElement("div",{className:"stop-left"},r.a.createElement("br",null),"Agency ShortList:",r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",onChange:this.updateAgency(),checked:"SF"===this.state.agency,value:"SF"}),"SF Muni"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",onChange:this.updateAgency(),checked:"GG"===this.state.agency,value:"GG"}),"Golden Gate Transit"),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",onChange:this.updateAgency(),checked:"AC"===this.state.agency,value:"AC"}),"AC Transit"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",onChange:this.updateAgency(),checked:"MA"===this.state.agency,value:"MA"}),"Marin Transit"),r.a.createElement("br",null),r.a.createElement("br",null),"Full List (all ",this.state.agencies.length," transit providers!)",r.a.createElement("br",null),r.a.createElement("select",{className:"agency-select",value:this.state.agency,onChange:this.updateAgency()},a),r.a.createElement("form",{onSubmit:this.handleSubmit},"Stop ID:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.stopCode,onChange:this.updateStopCode(),className:"stop-id"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Update"}),r.a.createElement("br",null))),r.a.createElement("div",{className:"stop-right"},t,e))}}]),t}(r.a.Component);var O=function(){var e=Object(n.useState)("marin"),t=Object(l.a)(e,2),a=t[0],i=t[1];return r.a.createElement("div",{className:"transit-master"},r.a.createElement("div",{className:"transit-switcher"},r.a.createElement("div",{id:"marin",className:"marin"===a?"transit-switch-on":"transit-switch-off",onClick:function(){return i("marin")}},"MARIN"),r.a.createElement("div",{className:"frisco"===a?"transit-switch-on":"transit-switch-off",onClick:function(){return i("frisco")}},"FRISCO"),r.a.createElement("div",{className:"user"===a?"transit-switch-on":"transit-switch-off",onClick:function(){return i("user")}},"USER")),r.a.createElement("div",{className:"transit"},r.a.createElement("div",{className:"marin"===a?"transit-on":"transit-off"},r.a.createElement(g,null),r.a.createElement(S,null)),r.a.createElement("div",{className:"frisco"===a?"transit-on":"transit-off"},r.a.createElement(E,null),r.a.createElement(f,null),r.a.createElement(M,null)),r.a.createElement("div",{className:"user"===a?"transit-on":"transit-off"},r.a.createElement(N,null))))};var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(c.a,{exact:!0,path:"/transit",component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a8c35590.chunk.js.map